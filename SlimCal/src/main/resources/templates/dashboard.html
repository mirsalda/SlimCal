<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">


</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg">
    <div class="container">
        <a class="navbar-brand" href="/dashboard">
            <img th:src="@{/images/navbarlogo.png}" alt="Logo" width="200">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item" th:if="${userRole.equals('ADMIN')}">
                    <a class="nav-link" href="/admin">
                        Admin
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/insert">Insert</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/diary">Diary</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link logout-link" href="#" id="logoutLink">Logout</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container py-4">
    <h1>Dashboard</h1>
    <ul class="nav nav-pills justify-content-center mb-4" id="statsTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="daily-summary-tab" data-bs-toggle="pill" data-bs-target="#daily-summary" type="button" role="tab" aria-controls="daily-summary" aria-selected="true">
                Daily Summary
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="weekly-summary-tab" data-bs-toggle="pill" data-bs-target="#weekly-summary" type="button" role="tab" aria-controls="weekly-summary" aria-selected="false">
                Weekly Summary
            </button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="entries-today-tab" data-bs-toggle="pill" data-bs-target="#entries-today" type="button" role="tab" aria-controls="entries-today" aria-selected="false">
                Entries Today
            </button>
        </li>
    </ul>


</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
    document.getElementById('logoutLink').addEventListener('click', (e) => {
        e.preventDefault();
        fetch('/logout', { method: 'POST' })
            .then(() => window.location.href = '/login')
            .catch(console.error);
    });
</script>
</body>
</html>
